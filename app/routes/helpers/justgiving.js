// Generated by CoffeeScript 1.4.0
(function() {
  var JustGiving;

  JustGiving = (function() {

    JustGiving.DirectDonatePath = '/donation/direct/charity';

    function JustGiving(siteUrl, apiUrl, apiKey) {
      this.siteUrl = siteUrl;
      this.apiUrl = apiUrl;
      this.apiKey = apiKey;
    }

    JustGiving.prototype.getDonationUrl = function(charityId, callbackUrl, ourData, thirdPartyReference, amount) {
      var url;
      url = this.siteUrl + JustGiving.DirectDonatePath;
      url += "/" + charityId + "?frequency=single";
      if (amount != null) {
        url += "&amount=" + amount;
      }
      if (thirdPartyReference != null) {
        url += "&reference=" + encodeURIComponent(thirdPartyReference);
      }
      url += "&exitUrl=" + encodeURIComponent(callbackUrl + ("?id=JUSTGIVING-DONATION-ID&data=" + ourData));
      return url;
    };

    JustGiving.prototype.getDonationStatus = function(donationId) {
      var url;
      return url = this.apiUrl + ("/api/" + this.apiKey + "/v1/donation/" + donationId);
    };

    return JustGiving;

  })();

  module.exports = JustGiving;

}).call(this);
